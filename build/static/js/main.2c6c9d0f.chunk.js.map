{"version":3,"sources":["icons sync /.svg$","icons/statistics.svg","icons/tag.svg","components/Icon.tsx","components/Arrow.tsx","components/Button.tsx","components/Center.tsx","components/Nav.tsx","components/Layout.tsx","components/Space.tsx","hooks/useUpdate.tsx","lib/createId.tsx","hooks/useTags.tsx","view/Tags.tsx","hooks/useRecords.tsx","view/Money/CategorySection.tsx","components/Input.tsx","view/Money/NoteSection.tsx","view/Money/NumberPadSection/Wrapper.tsx","view/Money/NumberPadSection.tsx","view/Money/NumberPadSection/generateOutput.tsx","view/Money/TagSection.tsx","view/Money.tsx","view/NoMatch.tsx","view/Statistics.tsx","view/Tag.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","ArrowLeft","styled","div","ArrowRight","Button","button","Center","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","nav","CustomLink","to","resolved","useResolvedPath","match","useMatch","path","pathname","end","style","textDecoration","color","Nav","Wrapper","Main","Layout","Space","useUpdate","fn","dependency","count","useRef","useEffect","current","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useTags","useState","tags","setTags","localTags","parse","length","addTag","tagName","prompt","getName","tag","filter","t","findTag","updateTag","findTagIndex","result","i","deleteTag","TagList","ol","Tags","onClick","useRecords","records","setRecords","addRecord","newRecord","tagIds","alert","record","createdAt","Date","toISOString","section","CategorySection","categoryMap","categoryList","category","value","c","onChange","Label","label","Input","NoteSection","note","type","placeholder","target","NumberPadSection","output","text","textContent","split","concat","indexOf","slice","setOutput","generateOutput","onOK","TagSection","selectedTagIds","tagId","MyLayout","CategoryWrapper","defaultFormData","amount","Money","selected","setSelected","obj","toString","NoMatch","Item","Header","h3","Statistics","setCategory","hash","r","key","day","format","push","array","entries","sort","a","b","index","date","reduce","span","Topbar","header","InputWrapper","Tag","navigate","useNavigate","idString","useParams","replace","defaultValue","TagContent","AppWrapper","App","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c6c9d0f.chunk.js","sourcesContent":["var map = {\n\t\"./statistics.svg\": 217,\n\t\"./tag.svg\": 218\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 216;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statistics\",\n  \"use\": \"statistics-usage\",\n  \"viewBox\": \"0 0 1026 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1026 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"statistics\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M420.864 450.56l-164.864 139.264 0-186.368 185.344-162.816 5.12 6.144 167.936 195.584 308.224-320.512 92.16 112.64-413.696 431.104-3.072-7.168zM928.768 705.536q19.456 0 37.376 7.68t30.72 20.48 20.48 30.208 7.68 36.864q0 20.48-7.68 37.888t-20.48 30.208-30.72 20.48-37.376 7.68l-832.512 0q-20.48 0-37.888-7.68t-30.208-20.48-20.48-30.208-7.68-37.888l0-640q0-19.456 7.68-37.376t20.48-30.72 30.208-20.48 37.888-7.68q19.456 0 37.376 7.68t30.72 20.48 20.48 30.72 7.68 37.376l0 544.768 736.256 0z\\\" p-id=\\\"2485\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"tag\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M323.008 786.752c-52.928 0-96-43.072-96-96s43.072-96 96-96 96 43.072 96 96-43.072 96-96 96z m0-128c-17.632 0-32 14.336-32 32s14.368 32 32 32 32-14.336 32-32-14.368-32-32-32z m93.088 268.32H284.224c-159.936 0-186.912-59.232-186.912-192v-140.8c0-74.272 14.304-96.256 70.72-150.976l327.04-319.904C531.648 87.904 600.96 88 637.376 123.296l263.072 256.032c18.336 17.792 28.864 43.552 28.864 70.656 0 27.296-10.656 53.28-29.248 71.264L610.048 815.84c-65.504 64.576-112.832 111.232-193.952 111.232zM566.24 159.488c-10.496 0-20.16 3.52-26.528 9.696L212.672 489.12c-49.952 48.48-51.36 54.528-51.36 105.152v140.8c0 110.272 8.352 128 122.912 128h131.872c52.672 0 83.744-28.48 148.992-92.8l26.656-26.144 263.232-268.256c6.784-6.592 10.336-15.808 10.336-25.888 0-9.888-3.424-18.88-9.472-24.736L592.768 169.216c-6.336-6.176-16.032-9.728-26.528-9.728z\\\" p-id=\\\"4581\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport cs from 'classnames';\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\ntype Props={\r\n    name?: string\r\n} & React.SVGAttributes<SVGElement>     //接受react提供的svg所有属性\r\n\r\nconst Icon=(props: Props)=>{\r\n    const {name,children,className,...rest}=props\r\n    return(\r\n        <svg className={cs('icon',className)} {...rest}>\r\n            {props.name && <use xlinkHref={'#'+props.name} />}\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Icon;","import styled from \"styled-components\";\r\nconst ArrowLeft=styled.div`\r\n&::before{\r\n      content:'';\r\n      display: block;\r\n      width: 9px;\r\n      height: 9px;\r\n      border-left: 1px solid #000;\r\n      border-top:1px solid #000;\r\n      transform: rotate(-45deg);\r\n    }\r\n`\r\nconst ArrowRight=styled.div`\r\n&::before{\r\n      content:'';\r\n      display: block;\r\n      width: 6px;\r\n      height: 6px;\r\n      border-left: 1px solid #000;\r\n      border-top:1px solid #000;\r\n      transform: rotate(135deg);\r\n    }\r\n`\r\nexport {ArrowLeft,ArrowRight}","import styled from \"styled-components\";\r\n\r\nconst Button=styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background-color: #999;\r\n  border-radius: 4px;\r\n  color: #fff;\r\n`\r\nexport {Button}","import styled from \"styled-components\";\r\n\r\nconst Center=styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\nexport {Center}","import { Link, LinkProps, useMatch, useResolvedPath } from 'react-router-dom';\r\nimport styled from 'styled-components'\r\nimport Icon from './Icon';\r\n\r\nconst NavWrapper=styled.nav`\r\n  /* border: 1px solid blue; */\r\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n  line-height: 24px;\r\n  ul{\r\n    display: flex;\r\n    li{\r\n        width: 33.333%;\r\n        text-align: center;\r\n        box-shadow: 0 0 1px rgba(0,0,0,0.25);\r\n        a{\r\n            padding: 4px 0;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            align-items: center;\r\n            .icon{\r\n                width:32px;\r\n                height:32px;\r\n            }\r\n        }\r\n    }\r\n  }\r\n`;\r\nconst Nav = () => {\r\n    return (\r\n        <NavWrapper>\r\n            <ul>\r\n                <li>\r\n                    <CustomLink to=\"/money\">\r\n                        <Icon name={'tag'} />\r\n                        money\r\n                    </CustomLink>\r\n                </li>\r\n                <li>\r\n                    <CustomLink to=\"/tags\">\r\n                        <Icon name={'statistics'} />\r\n                        tags\r\n                    </CustomLink>\r\n                </li>\r\n                <li>\r\n                    <CustomLink to=\"/statistics\">\r\n                        <Icon name={'tag'} />\r\n                        statistics\r\n                    </CustomLink>\r\n                </li>\r\n            </ul>\r\n        </NavWrapper>\r\n    )\r\n}\r\nfunction CustomLink({ children, to, ...props }: LinkProps) {\r\n    let resolved = useResolvedPath(to);\r\n    let match = useMatch({ path: resolved.pathname, end: true });\r\n    return (\r\n      <div>\r\n        <Link\r\n          style={{ \r\n            textDecoration: match ? \"underline\" : \"none\" ,\r\n            color:match ? \"green\" : \"\"\r\n          }}\r\n          to={to}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </Link>\r\n        {/* {match && \" (active)\"} */}\r\n      </div>\r\n    );\r\n  }\r\nexport default Nav;\r\n","import styled from \"styled-components\";\r\nimport Nav from \"./Nav\"\r\n\r\nconst Wrapper=styled.div`\r\n  /* border: 1px solid red; */\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst Main=styled.div`\r\n  /* border: 1px solid green; */\r\n  flex-grow: 1;\r\n  /* color: red; */\r\n  overflow: auto;\r\n`;\r\n\r\nconst Layout = (props: any) => {\r\n    return(\r\n        <Wrapper>\r\n            <Main className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav />  \r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Layout;","import styled from \"styled-components\";\r\nconst Space=styled.div`\r\nheight: 16px;\r\n`\r\nexport {Space}","import { useEffect, useRef } from \"react\";\r\n\r\nexport const useUpdate=(fn:()=>void,dependency:any[])=>{\r\n    const count=useRef(0);\r\n    useEffect(()=>{\r\n        count.current+=1;\r\n    })\r\n    useEffect(()=>{\r\n        if(count.current>1){    //第一次会使undefined变成空数组，使其不执行\r\n            fn();\r\n        }\r\n    },[fn,dependency]);\r\n};\r\n","let id=parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId = () => {\r\n    id+=1;\r\n    window.localStorage.setItem('idMax',JSON.stringify(id))\r\n    return id;\r\n};\r\n\r\nexport {createId};","import { useUpdate } from \"hooks/useUpdate\";\r\nimport { createId } from \"lib/createId\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst useTags=()=>{     //规定为用use..//封装一个自定义Hook\r\n    const [tags,setTags]=useState<{id:number;name:string}[]>([]);\r\n    useEffect(()=>{     //第一次渲染\r\n        console.log('after mount')\r\n        // setTags(JSON.parse(window.localStorage.getItem('tags') || '[]'))\r\n        let localTags=JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n        if(localTags.length===0){\r\n            localTags=[\r\n                {id:createId(),name:'衣'},\r\n                {id:createId(),name:'食'},\r\n                {id:createId(),name:'住'},\r\n                {id:createId(),name:'行'},\r\n            ]\r\n        }\r\n        setTags(localTags);\r\n    },[]);\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('tags',JSON.stringify(tags))\r\n    },tags)   //不可变数据\r\n   \r\n    const findTag=(id:number)=>tags.filter(tag=>tag.id===id)[0];\r\n    const findTagIndex=(id:number)=>{\r\n        let result=-1;\r\n        for(let i=0;i<tags.length;i++){\r\n            if(tags[i].id===id){\r\n                result=i;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    // const updateTag=(id:number,obj:{name:string})=>{\r\n    const updateTag=(id:number,{name}:{name:string})=>{\r\n        setTags(tags.map(tag=>tag.id===id ? {id,name}:tag));\r\n        // //获取你要改的tag的下标\r\n        // const index=findTagIndex(id);\r\n        // //vue：tags.splice(index,1,{id:id,name:obj.name})\r\n        // //深拷贝 tags 得到 tagsClone\r\n        // const tagsClone=JSON.parse(JSON.stringify(tags));\r\n        // //把 tagsClone 的第 index 删掉，换成{id:id,name:obj.name}\r\n        // tagsClone.splice(index,1,{id:id,name:obj.name});\r\n        // setTags(tagsClone);\r\n    };\r\n    const deleteTag=(id:number)=>{\r\n        setTags(tags.filter(tag=>tag.id!==id));\r\n        // //获取你要删的tag的下标\r\n        // const index=findTagIndex(id)\r\n        // //深拷贝 tags 得到 tagsClone\r\n        // const tagsClone=JSON.parse(JSON.stringify(tags));\r\n        // //把 tagsClone 的第 index 删掉，\r\n        // tagsClone.splice(index,1);\r\n        // setTags(tagsClone);\r\n    };\r\n    const addTag=()=>{\r\n        const tagName=window.prompt('新的标签名称');\r\n        if(tagName!==null && tagName!==''){\r\n          setTags([...tags,{id:createId(),name:tagName}])    //获得当前数据tags，放入数据tagName\r\n        }\r\n    };\r\n    const getName=(id:number)=>{\r\n        const tag=tags.filter(t=>t.id===id)[0]\r\n        return tag? tag.name : ''\r\n    }\r\n    return{tags,addTag,getName,setTags,findTag,updateTag,findTagIndex,deleteTag}\r\n}\r\nexport {useTags}","import { ArrowRight } from \"components/Arrow\";\r\nimport { Button } from \"components/Button\";\r\nimport { Center } from \"components/Center\";\r\nimport Layout from \"components/Layout\";\r\nimport { Space } from \"components/Space\";\r\nimport { Link, Outlet } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useTags } from \"hooks/useTags\";\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background-color: white;\r\n  li{\r\n    border-bottom: 1px solid #d5d5d5;\r\n    line-height: 20px;\r\n    padding: 12px 16px;\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n`\r\n\r\nfunction Tags(){\r\n  const {tags,addTag}=useTags();\r\n    return(\r\n      <Layout>\r\n        <TagList>\r\n          {tags.map(tag=>\r\n            <li key={tag.id}>\r\n              <Link to={\"\"+tag.id}>\r\n                <span className=\"oneLine\">{tag.name}</span>\r\n                <ArrowRight />\r\n              </Link>\r\n            </li>\r\n          )}\r\n        </TagList>\r\n        <Center>\r\n          <Space />\r\n          <Space />\r\n          <Button onClick={addTag}>新增标签</Button>\r\n          <Space />\r\n        </Center>\r\n        <Outlet />\r\n      </Layout>\r\n    );\r\n}\r\nexport default Tags;","import { useEffect, useState } from \"react\"\r\nimport { useUpdate } from \"./useUpdate\";\r\n\r\nexport type RecordItem={\r\n    tagIds:number[]\r\n    note:string\r\n    category:'+' | '-'\r\n    amount:string\r\n    createdAt:string //ISO 8601\r\n}\r\ntype newRecordItem=Omit<RecordItem,'createdAt'>\r\n// type newRecordItem=Omit<RecordItem,'createdAt' | 'updatedAt'>\r\nexport const useRecords=()=>{\r\n    const [records,setRecords]=useState<RecordItem[]>([]);\r\n    useEffect(()=>{\r\n        setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'))\r\n    },[]);\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('records',JSON.stringify(records));\r\n    },records);\r\n    const addRecord=(newRecord:newRecordItem)=>{\r\n        // if(newRecord.amount<=0) {return false;}    //数值小于零时返回\r\n        if(newRecord.tagIds.length===0){\r\n            alert('请选择标签')\r\n            return false\r\n        }\r\n        const record={...newRecord,createdAt:(new Date()).toISOString()};\r\n        setRecords([...records,record]);\r\n        return true\r\n    };\r\n    return {records,addRecord};\r\n}","import { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper=styled.section`\r\n  font-size: 24px;\r\n  ul{\r\n    display:flex;\r\n    li{\r\n      width:50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n      &.selected::after{\r\n        content:'';\r\n        display: block;\r\n        height: 3px;\r\n        background: #333;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`\r\ntype Category ='-' | '+';\r\ntype Props={\r\n  value:string;\r\n  onChange:(value:Category)=>void;\r\n} \r\nconst CategorySection:React.FC<Props>=(props)=>{\r\n  const categoryMap={'-':'支出','+':'收入'};\r\n  type Keys = keyof typeof categoryMap;        //封装\r\n  // const [categoryList] = useState<('-' | '+')[]>(['-','+']);  //参数类型只能选择'+'和'-'\r\n  const [categoryList] = useState<Keys[]>(['-','+']);\r\n  // const [category,setCategory]=useState('-');  //+表示收入 -表示支出\r\n  const category=props.value\r\n  return(\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c=>\r\n          <li \r\n            key={c}\r\n            className={category===c ? 'selected' : ''}\r\n            onClick={()=>{props.onChange(c);}}\r\n          >{categoryMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n}\r\nexport {CategorySection};","import styled from \"styled-components\"\r\n\r\nconst Label=styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    span{\r\n      margin-right:16px;\r\n      white-space: nowrap;\r\n    }\r\n    input{\r\n      display: block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n`;\r\ntype Props={\r\n    label:string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>;\r\n\r\nconst Input:React.FC<Props>=(props)=>{\r\n    const {label,children, ...rest}=props;\r\n    return(\r\n        <Label>\r\n            <span>{label}</span>\r\n            <input {...rest} />\r\n        </Label>\r\n    );\r\n};\r\n\r\nexport {Input}","import { Input } from \"components/Input\";\r\nimport { ChangeEventHandler } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper=styled.section`\r\n  background: #f5f5f5;\r\n  padding: 10px 16px;\r\n  font-size: 14px;\r\n`\r\ntype Props={\r\n  value:string;\r\n  onChange:(value:string)=>void;\r\n} \r\nconst NoteSection:React.FC<Props>=(props)=>{\r\n  const note=props.value;\r\n  const onChange:ChangeEventHandler<HTMLInputElement>=(e)=>{\r\n    props.onChange(e.target.value);\r\n  }\r\n  // console.log(note);\r\n  return(\r\n    <Wrapper>\r\n      <Input label=\"备注\" type=\"text\" placeholder=\"在这里添加备注\" value={note} onChange={onChange}/>\r\n    </Wrapper>)\r\n}\r\nexport {NoteSection};","import styled from \"styled-components\";\r\n\r\nconst Wrapper=styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  .output{\r\n    background: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n                inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  .pad{\r\n    flex-wrap:wrap;\r\n    button{\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: none;\r\n      &.ok{height:128px;float: right;}\r\n      &.zero{width: 50%;}\r\n      &:nth-child(1){\r\n        background: #f2f2f2;\r\n      }\r\n      &:nth-child(2),\r\n      &:nth-child(5){\r\n        background: #e0e0e0;\r\n      }\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9){\r\n        background: #d3d3d3;\r\n      }\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10){\r\n        background: #c1c1c1;\r\n      }\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13){\r\n        background: #b8b8b8;\r\n      }\r\n      &:nth-child(14){\r\n        background: #a9a9a9;\r\n      }\r\n      &:nth-child(12){\r\n        background: #9a9a9a;\r\n      }\r\n    }\r\n  }\r\n`\r\nexport {Wrapper}","import React from \"react\";\r\nimport { generateOutput } from \"./NumberPadSection/generateOutput\";\r\nimport { Wrapper } from \"./NumberPadSection/Wrapper\";\r\n\r\ntype Props={\r\n  value:string;\r\n  onChange:(value:string)=>void;\r\n  onOK?:()=>void;\r\n} \r\nconst NumberPadSection:React.FC<Props>=(props)=>{\r\n  // const [output,_setOutput]=useState('0')\r\n  const output=props.value\r\n  const setOutput=(output:string)=>{\r\n    if(output.length>16){\r\n      output=output.slice(0,16);\r\n    }else if(output.length===0){\r\n      output='0';\r\n    }\r\n    props.onChange(output);\r\n  };\r\n  const onClickButtonWrapper=(e:React.MouseEvent)=>{  //鼠标点击事件\r\n    const text=(e.target as HTMLButtonElement).textContent\r\n    if(text===null){return;}\r\n    if(text==='OK'){\r\n      if(props.onOK){\r\n        props.onOK();\r\n      }\r\n      return;\r\n    }\r\n    if('0123456789.'.split('').concat(['删除','清空']).indexOf(text)>=0){\r\n      setOutput(generateOutput(text,output));\r\n    }\r\n  }\r\n  return(\r\n    <Wrapper>\r\n      <div className=\"output\">\r\n        {output}\r\n      </div>\r\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className=\"ok\">OK</button>\r\n        <button className=\"zero\">0</button>\r\n        <button>.</button>\r\n      </div>\r\n    </Wrapper>)\r\n}\r\nexport {NumberPadSection};","// type InputString ='0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' | '.' | '删除' | '清空'\r\nconst generateOutput=(text:string,output='0')=>{\r\n    switch(text){\r\n        case '0':\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n            if(output===\"0\"){\r\n                return text;\r\n            }else{\r\n                return output+text;\r\n            }\r\n        case '.':\r\n            if(output.indexOf('.')>=0){return output;}\r\n            return output+'.';\r\n        case '删除':\r\n            if(output.length===1){\r\n                return '';\r\n            }else{\r\n                return output.slice(0,-1) || '';\r\n            }\r\n        case '清空':\r\n            return '';\r\n        default:\r\n            return '';\r\n        }\r\n}\r\nexport {generateOutput}","import styled from \"styled-components\";\r\nimport React from 'react';\r\nimport { useTags } from \"hooks/useTags\";\r\n// import { createId } from \"lib/createId\";\r\n\r\nconst Wrapper=styled.section`\r\n  background-color:#fff;\r\n  padding:12px 16px;\r\n  flex-grow: 1;\r\n  /* border: 1px solid red;\r\n  flex-shrink: 0; \r\n  overflow: auto; */\r\n  /* border: 1px solid red; */\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* justify-content: flex-end;  //尽量靠下 */\r\n  align-items: flex-start;    //内容尽量靠左\r\n  ol{\r\n    margin: 0 -12px;\r\n    li{\r\n      background-color: #d9d9d9;\r\n      border-radius: 18px;\r\n      display:inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected{\r\n        background-color: #999;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  button{\r\n    background: none;\r\n    border:none;\r\n    padding:0 4px;\r\n    border-bottom: 1px solid #333;\r\n    color:#666;\r\n    cursor: pointer;\r\n  }\r\n`\r\ntype Props={\r\n  value:number[];\r\n  onChange:(selected:number[])=>void;\r\n}  //ts传递参数时必须要先声明类型\r\nconst TagSection:React.FC<Props>=(props)=>{\r\n  const {tags,addTag}=useTags()\r\n  // const [selectedTags,setSelectedTags]=useState<string[]>([]);\r\n  const selectedTagIds=props.value;\r\n  \r\n  const onToggleTag=(tagId:number)=>{\r\n    const index=selectedTagIds.indexOf(tagId);\r\n    if(index>=0){\r\n      //如果tag已被选中，就复制所有没有被选中的tag，作为新的selectedTag\r\n      props.onChange(selectedTagIds.filter(t=>t!==tagId));\r\n    }else{\r\n      props.onChange([...selectedTagIds,tagId])\r\n    }\r\n  }\r\n  const getClass=(tagId:number)=>selectedTagIds.indexOf(tagId)>= 0 ? 'selected' : '';\r\n  return(\r\n    <Wrapper>\r\n      <button onClick={addTag}>新增标签</button>  \r\n      <ol>\r\n        {tags.map(tag=>\r\n          <li \r\n            key={tag.id} \r\n            onClick={()=>onToggleTag(tag.id)} \r\n            className={getClass(tag.id)}\r\n          >\r\n            {tag.name}\r\n          </li>\r\n        )}\r\n      </ol>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport {TagSection};","import Layout from \"components/Layout\";\r\nimport { useRecords } from \"hooks/useRecords\";\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CategorySection } from \"./Money/CategorySection\";\r\nimport { NoteSection } from \"./Money/NoteSection\";\r\nimport { NumberPadSection } from \"./Money/NumberPadSection\";\r\nimport { TagSection } from \"./Money/TagSection\";\r\n\r\nconst MyLayout=styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* min-height: 1000px; */\r\n  border: 1px solid red;\r\n`\r\n// const Con=styled.div`\r\n//   border: 1px solid red;\r\n//   flex-shrink: 0; \r\n//   overflow: auto;\r\n// `\r\nconst CategoryWrapper=styled.div`\r\n  background-color: #c4c4c4;\r\n`\r\ntype Category ='-' | '+';\r\nconst defaultFormData={\r\n  tagIds:[] as number[],\r\n  note:'',\r\n  category:'-' as Category,\r\n  amount:'0'\r\n}\r\n\r\nfunction Money(){\r\n  const [selected,setSelected]=useState(defaultFormData);\r\n  const {addRecord}=useRecords();\r\n  const onChange=(obj:Partial<typeof selected>)=>{\r\n    setSelected({\r\n      ...selected,\r\n      ...obj\r\n    })\r\n  };\r\n  const submit=()=>{\r\n    if(addRecord(selected)){\r\n      alert('保存成功')\r\n      setSelected(defaultFormData);\r\n    }\r\n  }\r\n  return(\r\n    <MyLayout>\r\n      {/* {JSON.stringify(selected)}\r\n      <hr/> */}\r\n      {/* <Con> */}\r\n        <TagSection value={selected.tagIds} \r\n          onChange={tagIds=>onChange({tagIds})}\r\n        />\r\n      {/* </Con> */}\r\n      <NoteSection value={selected.note}\r\n        onChange={note=>onChange({note})}\r\n      />\r\n      <CategoryWrapper>\r\n        <CategorySection value={selected.category}\r\n          onChange={(category)=>onChange({category})}\r\n          />\r\n      </CategoryWrapper>\r\n      <NumberPadSection value={selected.amount.toString()}\r\n        onChange={(amount)=>onChange({amount})}\r\n        onOK={submit}\r\n        />\r\n    </MyLayout>\r\n  );\r\n}\r\nexport default Money;","function NoMatch(){\r\n    return <h2>404</h2>;\r\n}\r\nexport default NoMatch;","import Layout from \"components/Layout\";\r\nimport { RecordItem, useRecords } from \"hooks/useRecords\";\r\nimport { useTags } from \"hooks/useTags\";\r\nimport { ReactNode, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CategorySection } from \"./Money/CategorySection\";\r\nimport day from 'dayjs'\r\nimport 'core-js'\r\n\r\nconst CategoryWrapper=styled.div`\r\n  background-color: white;\r\n`\r\nconst Item=styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: white;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  .note{\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color:#999;\r\n  }\r\n`\r\nconst Header=styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`\r\n\r\nfunction Statistics(){\r\n  const [category,setCategory]=useState<'-' | '+'>('-');\r\n  const {records}=useRecords();\r\n  const {getName}=useTags();\r\n  const hash:{[K:string]:RecordItem[]}={}\r\n  const selectedRecords=records.filter(r=>r.category===category)\r\n  selectedRecords.forEach(r=>{\r\n    const key=day(r.createdAt).format('YYYY年MM月DD日')\r\n    if(!(key in hash)){\r\n      hash[key]=[]\r\n    }\r\n    hash[key].push(r)\r\n  })\r\n  const array=Object.entries(hash).sort((a,b)=>{\r\n    if(a[0]===b[0]) return 0;\r\n    if(a[0]>b[0]) return -1;\r\n    if(a[0]<b[0]) return 1;\r\n    return 0\r\n  })\r\n  return(\r\n    <Layout>\r\n      <CategoryWrapper>\r\n        <CategorySection value={category}\r\n          onChange={value=>setCategory(value)}/>\r\n      </CategoryWrapper>\r\n      {array.map(([date,records], index)=><div key={index}>\r\n        <Header>\r\n          {date}\r\n        </Header>\r\n        <div>\r\n          {records.map((r, index)=>{\r\n            return <Item key={index}>\r\n            <div className=\"tags oneLine\">\r\n              {r.tagIds\r\n              .map(tagId=><span key={tagId}>{getName(tagId)}</span>)\r\n              .reduce((result,span,index,array)=>\r\n              result.concat(index<array.length-1 ? [span,'，']:[span]),[] as ReactNode[])}\r\n            </div>\r\n            {r.note && <div className=\"note\">\r\n              {r.note}  \r\n            </div>}\r\n            <div className=\"amount\">\r\n              ￥{r.amount}\r\n            </div>\r\n            {/* |{day(r.createdAt).format('YYYY年MM月DD日')} */}\r\n          </Item>\r\n          })}\r\n        </div>\r\n      </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n}\r\nexport default Statistics;","import Layout from \"components/Layout\";\r\nimport { useParams,useNavigate } from \"react-router-dom\";\r\nimport { useTags } from \"hooks/useTags\";\r\nimport { ArrowLeft } from \"components/Arrow\";\r\nimport { Button } from \"components/Button\";\r\nimport Icon from \"components/Icon\";\r\nimport styled from \"styled-components\";\r\nimport { Input } from \"components/Input\";\r\nimport { Center } from \"components/Center\";\r\nimport { Space } from \"components/Space\";\r\n\r\nconst Topbar=styled.header`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    line-height: 14px;\r\n    padding: 14px;\r\n    background-color: white;\r\n`\r\nconst InputWrapper=styled.div`\r\n    background-color: white;\r\n    padding:0 16px;\r\n    margin-top: 16px;\r\n`\r\n\r\nconst Tag:React.FC=()=>{\r\n    let navigate=useNavigate();\r\n    const {findTag,updateTag,deleteTag}=useTags();\r\n    let {id:idString}=useParams() || '';   //let {id:idString}=useParams();\r\n    const tag=findTag(parseInt(idString || ''));\r\n    const TagContent=(tag:{id:number;name:string})=>(\r\n        <div>\r\n            <InputWrapper>\r\n                <Input label=\"标签名\" type=\"text\" placeholder=\"标签名\" defaultValue={tag.name} \r\n                onChange={(e)=>{\r\n                    updateTag(tag.id,{name:e.target.value});\r\n                }} />\r\n            </InputWrapper>\r\n            <Center>\r\n                <Space />\r\n                <Space />\r\n                <Button onClick={()=>deleteTag(tag.id)}>删除标签</Button>\r\n            </Center>\r\n        </div>\r\n    )\r\n    const onClickBack=()=>{\r\n        navigate(\"/tags\",{replace:true})\r\n    }\r\n    // if(tag)\r\n    return(\r\n        <Layout>\r\n            <Topbar>\r\n                <ArrowLeft onClick={onClickBack} />\r\n                <span>编辑标签</span>\r\n                <Icon />\r\n            </Topbar>\r\n            {tag ? TagContent(tag): <Center>tag 不存在</Center>}\r\n        </Layout>\r\n    );\r\n};\r\nexport default Tag;","import React from 'react';\nimport {Routes,Route,Navigate} from 'react-router-dom';\nimport Tags from 'view/Tags';\nimport Money from 'view/Money';\nimport NoMatch from 'view/NoMatch';\nimport Statistics from 'view/Statistics';\nimport styled from 'styled-components';\n// import Test from 'view/Test';\nimport Tag from 'view/Tag'\n\n// import { useTags } from 'useTags';\n\nconst AppWrapper=styled.div`\n  color:#333;\n`;\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Routes>\n        <Route path=\"/\" element={<Navigate to=\"/money\" />} />\n        <Route path=\"/money\"  element={<Money/>} />\n        <Route path=\"/tags\" element={<Tags/>} >\n          {/* <Route path=\"me\" element={<Test/>} /> */}\n        </Route>\n        <Route path=\"/tags/:id\" element={<Tag/>} />\n        <Route path=\"/statistics\"  element={<Statistics/>} />\n        <Route path=\"*\" element={<NoMatch/>} />\n      </Routes>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'index.scss'\nimport {\n  HashRouter as Router\n}from 'react-router-dom'\nconsole.log('页面刷新')\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}